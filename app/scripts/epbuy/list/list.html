<ion-view title="所有商品" class="ep-list">

    <ion-content scroll="false">

        <div class="activity-date"><i class="icon ion-time-alarm"></i>活动日期：{{startTime}}至{{endTime}}，距离结束还有：{{restTime}}</div>

        <div class="filters">
            <div ng-click="filtersCtrl('sort');" ng-class="{active:showSort}" class="cyan">筛选<i class="icon ion-ios-arrow-down"></i></div>
            <div ng-click="filtersCtrl('brand');">品牌</div>
            <div ng-click="filtersCtrl('price');">价格<i ng-class="{'ion-arrow-up':priceUp,'ion-arrow-down':!priceUp}" class="icon"></i></div>
            <div ng-click="filtersCtrl('discount');">折扣<i ng-class="{'ion-arrow-up':discountUp,'ion-arrow-down':!discountUp}" class="icon"></i></div>
            <div class="switch-style" ng-click="filtersCtrl();"><i ng-class="{'ion-double-row':isSingle,'ion-single-row':!isSingle}" class="icon"></i></div>
        </div>

        <div class="sort-nav" ng-show="showSort">
            <ion-scroll class="sort-lvl-1" ng-if="sortPrimary" delegate-handle="sortPrimary">
                <a class="icon ion-arrow-right" ng-click="sortSelect($index);" ng-class="{active:sortPrimarySelected == $index}" ng-repeat="item in sortPrimary">一级分类({{$index + 1}})</a>
            </ion-scroll>
            <ion-scroll class="sort-lvl-2" ng-if="sortPrimary" delegate-handle="sortSecondary">
                <a ng-click="sortSelect(item);" ng-repeat="item in sortSecondary track by $index">二级分类({{item}})</a>
            </ion-scroll>
            <div ng-class="{active:showSort}" ng-click="filtersCtrl('sort');" class="sort-backdrop"></div>
        </div>

        <ion-scroll class="list-box" delegate-handle="listScroll">

            <div class="goods-list" ng-if="isSingle">
                <a class="goods-item" epbuy-jump="detail" ng-repeat="(index, item) in goodsList">
                    <div class="img">
                        <img ng-src="">
                    </div>
                    <div class="detail">
                        <h3>我是产品名称我是产品名称我是产品名称</h3>
                        <p class="text">尺寸，备注等尺寸，备注等尺寸，备注等尺寸，备注等尺寸，备注等尺寸，备注等</p>
                        <p class="p-gray">市场价<s>&yen;260</s></p>
                        <p class="p-red">内购价<span>&yen;148</span></p>
                    </div>
                </a>
            </div>

            <div class="goods-list-double" ng-if="!isSingle">
                <a class="goods-item" epbuy-jump="detail" ng-repeat="(index, item) in goodsList">
                    <div class="img">
                        <img ng-src="">
                        <div class="mask" style="display:-webkit-box;">
                            水之密语 凝润水护套装（洗发水600ml+护发素600ml+亲水沐)水之密语 凝润水护套装（洗发水600ml+护发素600ml+亲水沐)
                        </div>
                    </div>
                    <div class="price">
                        <span class="p-discount">5.5折</span>
                        <span class="p-red">&yen;148</span>
                        <s class="p-gray">&yen;260</s>
                    </div>
                </a>
            </div>

            <ion-infinite-scroll class="load-more-bar" on-infinite="loadMore();" distance="-60px"></ion-infinite-scroll>

        </ion-scroll>

    </ion-content>

    <bottom-bar></bottom-bar>

</ion-view>

<search-page></search-page>

<ion-nav-buttons side="right">
    <a ng-click="showSearch();" ng-show="showGlass" class="icon ion-search ep-list-search"></a>
    <shopping-cart></shopping-cart>
</ion-nav-buttons>
