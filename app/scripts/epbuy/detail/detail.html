<ion-view title="商品详情" class="ep-detail">

    <ion-content delegate-handle="contentHandle">

        <!-- 商品幻灯区 -->
        <div class="goods-slide" ng-if="goodsPictureList"> <i ng-if="product.Bargains" class="special-offer">特价</i>
            <ion-slide-box class="slide-box" does-continue="true" ng-if="goodsPictureList" ng-class="{special:specialList}">
                <ion-slide ng-repeat="(key, value) in goodsPictureList">
                    <div class="slide-page">
                        <img ng-src="images/guide_page_04.png"></div>
                </ion-slide>
            </ion-slide-box>
        </div>

        <div class="goods-detail">
            <div class="goods-name" style="display:-webkit-box;">
                <p ng-class="{'is-detail':!isWant}">{{product.Name}}</p>
                <a ng-if="!isWant && product.ProductID" collection-ctrl ng-class="{hasCollection:isCollect}" data-id="{{product.ProductID}}" data-title="{{product.Name}}" data-img="{{product.Picture}}" class="collection-btn"> <i class="icon ion-star"></i>
                    <br>
                    <span>{{isCollect ? '已收藏' : '收藏'}}</span>
                </a>
            </div>
            <p class="price">
                <span class="p-discount">{{product.Discount}}折</span>
                内购价：
                <span class="p-red">&yen;{{product.InnerPrice}}</span>
                市场价：
                <s class="p-gray">&yen;{{product.MarketPrice}}</s>
            </p>
            <p ng-if="!isWant" class="integral">
                积分：
                <span class="p-red">{{product.Integral}}</span>
            </p>
        </div>

        <div class="parameter" ng-if="!isWant">
            <ul>
                <li>
                    <span>保质期：</span>
                    {{product.ShelfLife}}
                </li>
                <li>
                    <span>库存量：</span>
                    {{product.Inventory}}件
                </li>
                <li>
                    <span>限购数：</span>
                    {{product.NumPurchasing}}件
                </li>
            </ul>
            <div class="select-bar ion-ios-arrow-down">
                请选择商品规格：
                <select>
                    <option selected>Green</option>
                    <option>Blue</option>
                    <option>Red</option>
                </select>
            </div>
        </div>

        <div class="goods-text">
            <div class="switch-tabs" style="display: -webkit-box;">
                <a ng-class="{current: tabIndex == 0}" ng-click="switchTab(0)">商品描述</a>
                <a ng-class="{current: tabIndex == 1}" ng-click="switchTab(1)">其他备注</a>
                <span ng-style="tabSlide"></span>
            </div>
            <p ng-if="tabIndex == 0" class="switch-conts">{{product.Description || '暂无商品描述'}}</p>
            <p ng-if="tabIndex == 1" class="switch-conts">{{product.Remark || '暂无备注'}}</p>
        </div>

    </ion-content>

    <div class="goods-bar">
        <a class="share-btn">
            <i class="icon ion-share"></i>
        </a>
        <p ng-if="isWant" class="want-to icon" ng-class="{'ion-bar-heart':!product.HasVote,'ion-ios-heart':product.HasVote}">
            <span ng-click="wantToHeart(1234);">{{product.HasVote ? '已投票':'我想要'}}</span>
            {{product.VoteCount}}
        </p>
        <a ng-if="!isWant" ng-click="addToCart();" ng-class="{disabled:hasAdded}" class="add-to-cart">{{hasAdded ? '已加入购物车' : '加入购物车'}}</a>
    </div>

    <bottom-bar></bottom-bar>

</ion-view>

<ion-nav-buttons side="right">
    <shopping-cart></shopping-cart>
</ion-nav-buttons>